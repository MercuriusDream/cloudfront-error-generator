# CloudFront Error Generator

<img width="756" height="430" alt="Example" src="https://github.com/user-attachments/assets/3e9ad010-ab9c-431f-98d8-d87e6674084d" />

You can make your own CloudFront error page and mimic it.
Yes, You've heard that right!

[Try it](https://mercuriusdream.com/cloudfront-error-generator)

## Introduction

This tool provides a complete environment for designing CloudFront error pages without requiring server-side processing or build tools. The application runs entirely in the browser, using Base64-encoded URL parameters for state management, allowing designs to be shared as simple links. All configuration happens through a clean, tab-based interface with real-time preview and multiple export options.

## Features

| Feature | Description |
| --- | --- |
| Live Preview | Real-time rendering in a browser-styled frame |
| Full Customization | Configure page title, headings, body text, footer, and request ID |
| URL State Encoding | Entire configuration encoded in shareable URL parameters |
| Standalone Export | Generate self-contained HTML files |
| Base64 Data Export | Extract configuration data for external use |
| Zero Dependencies | Pure HTML/CSS/JavaScript with no build process |
| Serverless! | No server required, runs entirely in the browser |

## Usage

### Configuration

Open the application and navigate to the Settings tab to customize your error page:

| Field | Purpose | Example |
| --- | --- | --- |
| Page Title | Browser tab title | `ERROR: The request could not be satisfied` |
| Main Heading | Primary error code/message | `ERROR 403` |
| Sub Heading | Error description | `The request could not be satisfied.` |
| Body Text | Detailed message | `Bad request.` |
| Footer Text | Generator attribution | `Generated by cloudfront (CloudFront)` |
| Request ID | Tracking identifier | `aHR0cHM6Ly9tZXJjdXJpdXNkcmVhbS5jb20=` |

All changes are reflected immediately in the preview pane and automatically encoded into the URL.

### Export Options

Navigate to the Share tab for export and sharing options such as HTML, B64, or URL.

### State Sharing

The application encodes all configuration into the URL query string using Base64:

```
?data=eyJwYWdlVGl0bGUiOiJFUlJPUiIsImhlYWRpbmcxIjoiNDAzIn0=
```

This allows designs to be:
- Bookmarked for later use
- Shared via email or chat
- Embedded in documentation
- Versioned in URL shorteners

## Output Format

Generated error pages follow CloudFront's HTML 4.01 Transitional format:

```html
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<TITLE>ERROR: The request could not be satisfied</TITLE>
</HEAD><BODY>
<H1>ERROR 403</H1>
<H2>The request could not be satisfied.</H2>
<HR noshade size="1px">
Bad request.
<BR clear="all">
<HR noshade size="1px">
<PRE>
Generated by cloudfront (CloudFront)
Request ID: aHR0cHM6Ly9tZXJjdXJpdXNkcmVhbS5jb20=
</PRE>
</BODY></HTML>
```

All user input is sanitized through `escapeHtml()` to prevent XSS vulnerabilities.

## Development

The codebase requires no build process or package management. All dependencies are either included via CDN (Google Fonts) or implemented directly in JavaScript.

[Visit here for a live demo](https://mercuriusdream.com/cloudfront-error-generator)

### Project Structure

```
cloudfront-error-generator/
├── index.html          # Main application
├── script.js          # Application logic
├── style.css          # Styles and layout
├── example.html       # Example output
├── _config.yaml       # Project metadata
└── README.md          # Documentation
```

### Implementation Details

The application uses several modern browser APIs:

| API | Usage |
| --- | --- |
| `URLSearchParams` | Parse and generate query strings |
| `btoa` / `atob` | Base64 encoding/decoding |
| `History API` | Update URL without page reload |
| `Blob` + `createObjectURL` | Generate downloadable files |
| `Clipboard API` | Copy to clipboard functionality |

### Browser Compatibility

Requires a modern browser with support for:
- ES6 template literals
- Arrow functions
- `async/await` syntax
- Clipboard API

Tested on Chrome, Firefox, Safari, and Edge.

## Extending

The modular structure allows for easy extension:

### Adding New Fields

1. Add input element to `index.html`
2. Add field reference to `elements` object in `script.js`
3. Update `getCurrentState()` to include new field
4. Modify `generateHtml()` template to use new field

### Custom Output Formats

Replace the `generateHtml()` function to output different formats while maintaining the same state management:

```javascript
function generateHtml(state) {
    // Custom format implementation
    return customTemplate;
}
```

### Additional Export Options

Add new buttons in the Share tab and implement handlers following the existing pattern in `addListeners()`.

## License

GNU Affero General Public License v3.0

## Thanks to

Inspired by [Cloudflare-error-page generator](https://github.com/donlon/cloudflare-error-page/tree/main)